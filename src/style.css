:root {
  /* ============================================
     LAYOUT VARIABLES
     ============================================ */
  --layout-section-gap: 16rem;
  --arrow-size: 90px;
  --nav-height: 60px;
  --search-container-padding-vertical: 0.8rem;
  
  /* Spacing Scale - Desktop vs Mobile */
  --spacing-desktop-vertical: 4rem;
  --spacing-desktop-horizontal: 5rem;
  --spacing-mobile: 3rem;

  /* Text Box - Padding & Margins */
  --text-box-padding-vertical: var(--spacing-desktop-vertical);
  --text-box-padding-horizontal: var(--spacing-desktop-horizontal);
  --layout-text-box-padding-override: var(--spacing-desktop-horizontal);
  --text-box-margin-top: 0;
  --text-box-margin-bottom: 0;
  --text-box-margin-left: auto;
  --text-box-margin-right: auto;

  /* ============================================
     Z-INDEX LAYERS
     ============================================ */
  /* 
   * Z-index hierarchy (lowest to highest):
   * - Background: -1 (behind all content)
   * - Content: 0 (default, normal document flow)
   * - Bottom Navigation: 1000 (above content)
   * - Mobile Overlays: 2000 (menu/search overlays, above nav)
   * - Mobile Controls: 3000 (hamburger/search buttons, above overlays)
   */
  --z-index-background: -1;
  --z-index-content: 0;
  --z-index-bottom-nav: 1000;
  --z-index-mobile-overlay: 2000;
  --z-index-mobile-controls: 3000;

  /* ============================================
     COLORS
     ============================================ */
  /* Base Colors */
  
  --color-red: #F42D00;
  --color-peach: #FFCF8A;
  --color-cream: #FFF9F0;

  --color-green-darker: #0C343D;
  --color-green-dark: #163F00;
  --color-green: #99B292;
  --color-green-light: #E9EFDA;
  
  --color-white: rgba(255, 255, 255, 1);
  --color-white-translucent: rgba(255, 255, 255, 0.15);
  --color-black: rgba(0, 0, 0, 1);
  --color-black-translucent: rgba(0, 0, 0, 0.5);


  /* Functional Colors */
  --color-bg-primary: var(--color-cream);
  --color-border-primary: var(--color-green);
  --color-text-primary: var(--color-green-dark);
  --color-heading: var(--color-green);
  --color-border-divider: var(--color-peach);
  --color-hero-text: var(--color-green-darker);
  --color-hero-box-bg: var(--color-white-translucent);
  --color-hero-box-border: var(--color-black-translucent);
  --color-search-match: var(--color-green-light);
  --color-error: var(--color-red);

  /* ============================================
     TYPOGRAPHY
     ============================================ */
  /* Font Families */
  --font-body: 'Figtree', sans-serif;
  --font-heading: 'Karla', sans-serif;
  --font-monospace: 'Azeret Mono', monospace;
  --font-system: system-ui, Avenir, Helvetica, Arial, sans-serif;

  /* Font Sizes - General */
  /* 
   * REM units scale with the root font size (16px by default)
   * This ensures better accessibility and responsive behavior
   * Formula: px / 16 = rem (e.g., 24px / 16 = 1.5rem)
   */
  --font-size-body: 1.5rem;           /* 24px */
  --font-size-list: 1.3rem;
  --font-size-h3: 2.25rem;            /* 36px */
  --font-size-button: 0.75rem;        /* 12px */
  --font-size-small: 0.625rem;        /* 10px */

  /* Font Sizes - Hero */
  --font-size-hero-line: 2.5rem;      /* 40px */
  --font-size-hero-name: 4.375rem;    /* 70px */
  --font-size-hero-name-tablet: 3.125rem;  /* 50px */
  --font-size-hero-name-mobile: 2.25rem;   /* 36px */
  --font-size-hero-line-tablet: 2rem;      /* 32px */
  --font-size-hero-line-mobile: 1.5rem;    /* 24px */

  /* Font Sizes - Text Box */
  --text-size-h3-desktop: 2.25rem;       /* 36px */
  --text-size-h3-mobile: 1.75rem;        /* 28px */
  
  --text-size-body-desktop: 1.5rem;      /* 24px */
  --text-size-body-mobile: 1.25rem;      /* 20px */
  
  --text-size-list-desktop: 1.3rem;      /* ~21px */
  --text-size-list-mobile: 1.125rem;     /* 18px */

  /* Active font sizes (change with breakpoints) */
  --text-box-font-size-body: var(--text-size-body-desktop);
  --text-box-font-size-list: var(--text-size-list-desktop);
  --text-box-font-size-h3: var(--text-size-h3-desktop);

  /* Font Weights */
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-bold: 800;

  /* Line Heights */
  --line-height-body: 1.7;
  --line-height-base: 1.5;
  --line-height-heading: 1.2;
  --line-height-hero: 1;

  /* Text Box Spacing - H3 Spacing */
  --h3-margin-bottom-desktop: 2rem;
  --h3-margin-bottom-mobile: 1.25rem;
  
  --h3-section-spacing-desktop: 4.5rem;
  --h3-section-spacing-mobile: 2rem;

  /* Active H3 spacing (change with breakpoints) */
  --text-box-h3-margin-bottom: var(--h3-margin-bottom-desktop);
  --text-box-h3-section-padding-top: var(--h3-section-spacing-desktop);
  --text-box-h3-section-margin-top: var(--h3-section-spacing-desktop);

  /* ============================================
     BASE STYLES
     ============================================ */
  font-family: var(--font-system);
  font-size: 16px; /* Base font size - 1rem = 16px */
  line-height: var(--line-height-base);
  font-weight: var(--font-weight-normal);

  color-scheme: light;
  background-color: transparent;

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ============================================
   RESPONSIVE BREAKPOINTS
   ============================================ */
@media (max-width: 768px) {
  :root {
    --text-box-padding-vertical: var(--spacing-mobile);
    --text-box-padding-horizontal: var(--spacing-mobile);
    --layout-text-box-padding-override: var(--spacing-mobile);
    --text-box-font-size-body: var(--text-size-body-mobile);
    --text-box-font-size-list: var(--text-size-list-mobile);
    --text-box-font-size-h3: var(--text-size-h3-mobile);
    --text-box-h3-margin-bottom: var(--h3-margin-bottom-mobile);
    --text-box-h3-section-padding-top: var(--h3-section-spacing-mobile);
    --text-box-h3-section-margin-top: var(--h3-section-spacing-mobile);
  }
}

/* ============================================
   BASE ELEMENTS
   ============================================ */
html {
  font-size: 16px; /* Base font size - ensures 1rem = 16px */
}

body {
  margin: 0;
  min-width: 20rem; /* 320px */
  min-height: 100vh;
  overflow-x: hidden;
  background-color: transparent;
}

#app {
  width: 100%;
  padding-bottom: 6rem;
}

/* ============================================
   SECTIONS
   ============================================ */
.section {
  margin-top: var(--layout-section-gap);
  margin-bottom: 3rem;
}

.section:first-child {
  margin-top: 0;
}

.section-full-height {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 0;
}

/* ============================================
   TEXT BOX
   ============================================ */
.text-box {
  background-color: var(--color-bg-primary);
  border: 1px solid var(--color-border-primary);
  padding: var(--text-box-padding-vertical) var(--text-box-padding-horizontal);
  margin: var(--text-box-margin-top) var(--text-box-margin-right) var(--text-box-margin-bottom) var(--text-box-margin-left);
  max-width: 36.25rem; /* 580px */
}

.text-box p {
  font-family: var(--font-body);
  font-weight: var(--font-weight-normal);
  font-size: var(--text-box-font-size-body);
  line-height: var(--line-height-body);
  color: var(--color-text-primary);
  margin: 0;
}

.text-box p+p {
  margin-top: 1.875rem; /* 30px */
}

.text-box h3 {
  font-family: var(--font-heading);
  font-weight: var(--font-weight-bold);
  font-size: var(--text-box-font-size-h3);
  margin-top: 0;
  margin-bottom: var(--text-box-h3-margin-bottom);
  color: var(--color-heading);
}

.text-box h3:not(:first-of-type) {
  border-top: 1px dashed var(--color-border-divider);
  padding-top: var(--text-box-h3-section-padding-top);
  margin-top: var(--text-box-h3-section-margin-top);
}

.text-box h3 + p {
  margin-top: 0;
}

.text-box ul {
  font-family: var(--font-body);
  font-weight: var(--font-weight-normal);
  font-size: var(--text-box-font-size-list);
  line-height: var(--line-height-body);
  color: var(--color-text-primary);
  margin: 2rem 0;
  padding-left: 2rem;
}

.text-box ul + p {
  margin-top: 1.875rem; /* 30px */
}

.text-box li {
  line-height: 1.4;
}

.text-box li + li {
  margin-top: 1.5rem;
}

.text-box-left {
  max-width: 43.75rem; /* 700px */
}

.text-box--therapy,
.text-box--emdr,
.text-box--about {
  padding: var(--layout-text-box-padding-override) var(--text-box-padding-horizontal) var(--layout-text-box-padding-override) var(--text-box-padding-horizontal);
}

/* ============================================
   BUTTONS
   ============================================ */
.button {
  background-color: var(--color-bg-primary);
  border: 1px solid var(--color-border-primary);
  color: var(--color-text-primary);
  font-family: 'Azeret Mono', monospace;
  font-weight: 500;
  font-size: var(--font-size-button);
  text-transform: uppercase;
  padding: 0.5rem 1rem;
  cursor: pointer;
  transition: all 0.2s;
  white-space: nowrap;
}

.button:hover {
  background-color: var(--color-border-divider);
}

.button.copied {
  background-color: var(--color-border-primary);
  color: var(--color-bg-primary);
}

/* Button Variant: Nav */
.button--nav {
  background: transparent;
  border: 1px solid var(--color-black);
  color: var(--color-text-primary);
  padding: 0.5rem 0.75rem; /* Match search input padding */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-transform: none;
  height: 100%; /* Match parent container height (flexbox will determine this) */
}

.button--nav:hover:not(:disabled) {
  background-color: var(--color-black);
  color: var(--color-white);
}

.button--nav:disabled {
  opacity: 0.3;
  cursor: not-allowed;
}

/* Button Variant: "Not Found" */
.button--nav.button--not-found {
  width: 120px; /* Fixed width for not-found button */
}

.button--nav.button--not-found:disabled {
  cursor: wait;
  opacity: 1;
  background-color: var(--color-black);
  color: var(--color-white);
  border-color: var(--color-black);
}

/* Button Variant: Arrow */
.button--nav.button--arrow {
  aspect-ratio: 1; /* Perfect square - width matches height */
  height: auto; /* Override base height: 100% - let aspect-ratio determine size */
  max-height: 100%; /* Constrain to parent container height */
}

.button--nav.button--arrow svg {
  display: block; /* Remove any inline spacing */
  flex-shrink: 0; /* Prevent SVG from shrinking */
}

/* ============================================
   SEARCH HIGHLIGHTS
   ============================================ */
mark.search-highlight {
  background-color: var(--color-search-match);
  color: var(--color-text-primary);
  padding: 0.1em 0;
  border-radius: 2px;
}

mark.search-highlight.search-highlight-active {
  background-color: var(--color-black);
  color: var(--color-white);
}

/* ============================================
   LINKS
   ============================================ */
.cta-link {
  color: var(--color-text-primary);
  text-decoration: underline;
  text-decoration-color: transparent;
  text-underline-offset: 2px;
  transition: text-decoration-color 0.2s;
  cursor: pointer;
}

.cta-link:hover {
  text-decoration-color: var(--color-border-primary);
}

/* ============================================
   FORMS
   ============================================ */
.form-group {
  margin-bottom: 2rem;
}

.form-group label {
  display: block;
  font-family: var(--font-monospace);
  font-size: 1rem;
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
  margin-bottom: 0.5rem;
}

.form-input,
.form-textarea {
  width: 100%;
  padding: 0.75rem;
  font-family: var(--font-body);
  font-size: 1.125rem;
  color: var(--color-text-primary);
  background-color: var(--color-bg-primary);
  border: 1px solid var(--color-border-primary);
  border-radius: 0;
  box-sizing: border-box;
  transition: border-color 0.2s;
}

.form-input:focus,
.form-textarea:focus {
  outline: none;
  border-color: var(--color-heading);
}

.form-input:disabled,
.form-textarea:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.form-textarea {
  resize: vertical;
  min-height: 12rem;
}

.form-footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-top: 1rem;
}

.form-error {
  font-family: var(--font-monospace);
  font-size: 1rem;
  color: var(--color-error);
}

.form-success {
  padding: 0.75rem;
  background-color: #efe;
  border: 1px solid #cfc;
  color: #3c3;
  font-family: var(--font-body);
  font-size: 1rem;
}

.form-submit {
  margin-left: auto;
  padding: 0.75rem 1.5rem;
  font-size: var(--font-size-button);
  text-decoration: none;
  display: inline-block;
}

.form-submit:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* ============================================
   UTILITY CLASSES
   ============================================ */
/* Train Icons */
.train-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 1.5em;
  height: 1.5em;
  border-radius: 50%;
  font-weight: bold;
  font-size: 0.9em;
  color: white;
  margin: 0 0.25em;
  vertical-align: middle;
  cursor: pointer;
  transition: background-color 0.2s ease;
  user-select: none;
}

.train-icon-g {
  background-color: #6cbe45; /* Green for G train */
}

.train-icon-l {
  background-color: #a7a9ac; /* Gray for L train */
}

.train-icon:hover {
  background-color: #000000 !important;
}
